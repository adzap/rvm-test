# ENVIRONMENTAL NOTE:
# RVM is usually already installed as part of the per-user-rvm-install and multi-user-rvm-install scripts on each testing node.
# We also usually have pre-installed latest Ruby 1.8.7 stable tree for use.
#
# This gemset is also prepopulated with rake, bundler, pry, and ruby-debug* plus dependencies
rvm use 1.8.7@testrun

# Testing installation of a Ruby, and creation+use of a gemset within that
# Ruby. Also tests option chaining.
rvm pkg install readline
echo yes | rvm --install --create use 1.9.2@testrun -- --with-readline-dir=$rvm_path/usr

rvm info
# Build gemset loadout
bundle install

# Verify RVM enviornment and version for this currently selected Ruby.
rvm info
rvm --version

# Switch back to default ruby+gemset
rvm use default

# Forcefully delete the created gemset. Since this has a yes/no 'are you sure' check, we preface with 'echo y |' to make it go through. 
#'echo yes | rvm 1.9.2 do rvm gemset delete testrun --force' 
#rvm remove 1.9.2